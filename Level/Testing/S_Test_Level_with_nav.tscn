[gd_scene load_steps=22 format=3 uid="uid://bb5l3an7als3r"]

[ext_resource type="Script" path="res://Level/Testing/GD_Test_Level_with_nav.gd" id="1_nhrur"]
[ext_resource type="PackedScene" uid="uid://ckhvfyhreuwrp" path="res://Player_Character/S_PlayerCharacter.tscn" id="2_ggap4"]
[ext_resource type="PackedScene" uid="uid://b0yg8hhtv3vsc" path="res://Level/Tiles/Set_Spawn/S_setSpawn.tscn" id="3_i0uac"]
[ext_resource type="PackedScene" uid="uid://di2pirwy4n1ky" path="res://Level/Tiles/Danger_Area/S_Danger_Area.tscn" id="4_xrt7e"]
[ext_resource type="PackedScene" uid="uid://b76gdft4cavda" path="res://Level/Tiles/Trigger_Block_Area/S_Trigger_Block_Area.tscn" id="5_60n33"]
[ext_resource type="PackedScene" uid="uid://4gmv8hg1350m" path="res://Enemy/S_test_enemy_for_nav.tscn" id="6_4tbdd"]
[ext_resource type="PackedScene" uid="uid://6dnu7ywfbvge" path="res://Level/Navigation/S_JumpBox.tscn" id="6_ye3xk"]

[sub_resource type="BoxShape3D" id="BoxShape3D_0n7km"]
size = Vector3(8.77227, 0.314632, 19.6456)

[sub_resource type="HeightMapShape3D" id="HeightMapShape3D_5shrj"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_p6e54"]
albedo_color = Color(0, 1, 0, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_wl4l5"]
material = SubResource("StandardMaterial3D_p6e54")

[sub_resource type="BoxShape3D" id="BoxShape3D_88itu"]
size = Vector3(3.00706, 0.499985, 0.180684)

[sub_resource type="BoxMesh" id="BoxMesh_h2n2n"]

[sub_resource type="NavigationMesh" id="NavigationMesh_yfsg4"]
vertices = PackedVector3Array(-2.49743, 0.310773, -5.68082, -2.49743, 0.310773, -5.08082, -1.39743, 0.310773, -5.08082, -1.39743, 0.310773, -5.78082, -1.39743, 0.310773, -5.78082, -1.29743, 0.310773, -4.18082, 2.40257, 0.310773, -4.18082, 2.40257, 0.310773, -9.08082, -1.39743, 0.310773, -8.88082, -1.39743, 0.310773, -5.78082, -1.39743, 0.310773, -5.08082, -1.29743, 0.310773, -4.18082, 2.40257, 0.310773, -9.08082, -2.49743, 0.310773, -9.08082, -1.39743, 0.310773, -8.88082, -2.49743, 1.31077, -5.88082, -1.69743, 1.31077, -5.88082, -1.59743, 1.31077, -6.08082, -1.69743, 1.31077, -8.78082, -2.49743, 1.31077, -8.78082, -2.39743, 1.26077, -4.88082, -2.39743, 1.26077, -1.98082, -1.49743, 1.26077, -1.98082, -1.49743, 1.26077, -4.88082, -0.49743, 0.310773, 0.61918, -1.19743, 0.310773, 0.71918, -1.09743, 0.310773, 2.41918, 2.40257, 0.310773, 2.41918, 2.40257, 0.310773, -2.48082, -0.49743, 0.310773, -2.48082, -0.49743, 0.310773, 0.61918, 2.40257, 0.310773, 2.41918, -0.69743, 0.810773, -2.38082, -1.29743, 0.810773, -2.38082, -1.29743, 0.810773, -1.88082, -1.29743, 0.810773, -1.88082, -1.59743, 0.810773, -1.78082, -1.59743, 0.810773, 0.519179, -0.69743, 0.810773, 0.519179, -0.69743, 0.810773, -2.38082, -1.29743, 0.810773, -1.88082, -1.59743, 0.810773, 0.519179, -1.09743, 0.310773, 2.41918, -1.19743, 0.310773, 0.71918, -1.79743, 0.310773, 0.61918, -2.49743, 0.310773, 2.41918, -1.79743, 0.310773, 0.61918, -1.79743, 0.310773, -1.78082, -2.49743, 0.310773, -1.78082, -2.49743, 0.310773, 2.41918)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(4, 8, 5), PackedInt32Array(5, 8, 6), PackedInt32Array(6, 8, 7), PackedInt32Array(9, 11, 10), PackedInt32Array(14, 13, 12), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 18), PackedInt32Array(18, 15, 19), PackedInt32Array(23, 22, 20), PackedInt32Array(20, 22, 21), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 27), PackedInt32Array(29, 28, 30), PackedInt32Array(30, 28, 31), PackedInt32Array(34, 33, 32), PackedInt32Array(37, 36, 35), PackedInt32Array(41, 40, 38), PackedInt32Array(38, 40, 39), PackedInt32Array(43, 42, 44), PackedInt32Array(44, 42, 45), PackedInt32Array(47, 46, 48), PackedInt32Array(48, 46, 49)]
cell_size = 0.1
cell_height = 0.05
agent_radius = 0.1

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_0i3o3"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_f0xh6"]

[sub_resource type="BoxMesh" id="BoxMesh_dfef0"]
material = SubResource("StandardMaterial3D_f0xh6")
size = Vector3(5, 0.5, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_x4j1d"]
size = Vector3(5, 0.5, 5)

[sub_resource type="BoxMesh" id="BoxMesh_bbgn6"]
size = Vector3(1, 1, 3)

[sub_resource type="BoxShape3D" id="BoxShape3D_kl0tw"]
size = Vector3(1, 1, 3)

[sub_resource type="BoxShape3D" id="BoxShape3D_2mnql"]
size = Vector3(1.5, 1, 3)

[node name="S_Test_Level_With_Nav" type="Node3D"]
script = ExtResource("1_nhrur")

[node name="DirectionalLight3d" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.757918, 0.65235, 0, -0.65235, 0.757918, -3.32541, 2.1958, 0)
light_energy = 0.2
shadow_enabled = true
directional_shadow_mode = 0

[node name="Player_Character" parent="." instance=ExtResource("2_ggap4")]

[node name="S_setSpawn" parent="." instance=ExtResource("3_i0uac")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.251, -1.63235)

[node name="playerSpawnPoint" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.251, 0)

[node name="Danger_Area" parent="." instance=ExtResource("4_xrt7e")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3, -3.5)

[node name="triggerCollision" parent="Danger_Area" index="0"]
shape = SubResource("BoxShape3D_0n7km")

[node name="Trigger_Block_Area" parent="." instance=ExtResource("5_60n33")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.993494, 0.251, -1.65153)

[node name="CollisionShape3d" parent="Trigger_Block_Area" index="0"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)
shape = SubResource("HeightMapShape3D_5shrj")

[node name="MeshInstance3d" parent="Trigger_Block_Area" index="1"]
transform = Transform3D(0.25, 0, 0, 0, 0.25, 0, 0, 0, 0.25, 0, 0, 0)
mesh = SubResource("PlaneMesh_wl4l5")

[node name="CollisionShape3d" parent="Trigger_Block_Area/toBlock/StaticBody3d" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.747418)
shape = SubResource("BoxShape3D_88itu")

[node name="MeshInstance3d" parent="Trigger_Block_Area/toBlock/StaticBody3d/CollisionShape3d" index="0"]
transform = Transform3D(3.01038, 0, 0, 0, 0.481142, 0, 0, 0, 0.167108, 0, 0, 0)
mesh = SubResource("BoxMesh_h2n2n")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_yfsg4")

[node name="StaticBody3d4" type="StaticBody3D" parent="NavigationRegion3D"]
physics_material_override = SubResource("PhysicsMaterial_0i3o3")

[node name="MeshInstance3d" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3d4"]
mesh = SubResource("BoxMesh_dfef0")

[node name="CollisionShape3d" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3d4"]
shape = SubResource("BoxShape3D_x4j1d")

[node name="StaticBody3d2" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -6.68082)
physics_material_override = SubResource("PhysicsMaterial_0i3o3")

[node name="MeshInstance3d" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3d2"]
mesh = SubResource("BoxMesh_dfef0")

[node name="CollisionShape3d" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3d2"]
shape = SubResource("BoxShape3D_x4j1d")

[node name="StaticBody3d" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.98234, 0.685076, -3.45556)
physics_material_override = SubResource("PhysicsMaterial_0i3o3")

[node name="MeshInstance3d" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3d"]
mesh = SubResource("BoxMesh_bbgn6")

[node name="CollisionShape3d" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3d"]
shape = SubResource("BoxShape3D_kl0tw")

[node name="StaticBody3d" type="StaticBody3D" parent="NavigationRegion3D/StaticBody3d"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.11509, 0.0716425, -3.91721)
physics_material_override = SubResource("PhysicsMaterial_0i3o3")

[node name="MeshInstance3d" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3d/StaticBody3d"]
mesh = SubResource("BoxMesh_bbgn6")

[node name="CollisionShape3d" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3d/StaticBody3d"]
shape = SubResource("BoxShape3D_kl0tw")

[node name="StaticBody3d3" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.15964, 0.210773, -0.975042)
physics_material_override = SubResource("PhysicsMaterial_0i3o3")

[node name="MeshInstance3d" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3d3"]
mesh = SubResource("BoxMesh_bbgn6")

[node name="CollisionShape3d" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3d3"]
shape = SubResource("BoxShape3D_kl0tw")

[node name="JumpBox" parent="NavigationRegion3D" instance=ExtResource("6_ye3xk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.778496, 0.230513, -0.0940797)
jump_force = 4

[node name="CollisionShape3D" parent="NavigationRegion3D/JumpBox" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.360209, -0.0385477, -0.401173)
shape = SubResource("BoxShape3D_2mnql")

[node name="NavigationLink3D" type="NavigationLink3D" parent="NavigationRegion3D/JumpBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.774463, 0, 0)
end_position = Vector3(-1, 0.5, 0)

[node name="NavigationLink3D2" type="NavigationLink3D" parent="NavigationRegion3D/JumpBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.40951, 0, 0)
end_position = Vector3(1, 0.5, 0)

[node name="test_enemy_for_nav" parent="." instance=ExtResource("6_4tbdd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.66902, 1.51611, 1.32143)

[editable path="Danger_Area"]
[editable path="Trigger_Block_Area"]
[editable path="NavigationRegion3D/JumpBox"]
