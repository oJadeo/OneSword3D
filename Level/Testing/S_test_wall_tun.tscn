[gd_scene load_steps=8 format=3 uid="uid://d1x1wvjpkpbuh"]

[ext_resource type="Script" path="res://Level/Testing/GD_test_nav_link.gd" id="1_82lem"]
[ext_resource type="PackedScene" uid="uid://ckhvfyhreuwrp" path="res://Player_Character/S_PlayerCharacter.tscn" id="2_abfyt"]

[sub_resource type="NavigationMesh" id="NavigationMesh_ltx6n"]
vertices = PackedVector3Array(-2.4, 0.172453, 0, -0.6, 0.172453, 0, -0.6, 0.172453, -0.3, -0.3, 0.172453, -0.6, 0, 0.172453, -0.6, 0, 0.172453, -2.4, -2.4, 0.172453, 0, -0.6, 0.172453, -0.3, -0.3, 0.172453, -0.6, 0, 0.172453, -2.4, -2.4, 0.172453, -2.4, 0.6, 0.172453, -0.3, 0.6, 0.172453, 0, 2.4, 0.172453, 0, 0, 0.172453, -2.4, 0, 0.172453, -0.6, 0.3, 0.172453, -0.6, 0.3, 0.172453, -0.6, 0.6, 0.172453, -0.3, 2.4, 0.172453, 0, 2.4, 0.172453, -2.4, 0, 0.172453, -2.4, -0.4, 1.12245, -0.3, -0.3, 1.12245, 0.4, 0.4, 1.12245, 0.3, 0.3, 1.12245, -0.4, 0, 0.172453, 2.4, 0, 0.172453, 0.6, -0.3, 0.172453, 0.6, -0.6, 0.172453, 0.3, -0.6, 0.172453, 0, -2.4, 0.172453, 0, 0, 0.172453, 2.4, -0.3, 0.172453, 0.6, -0.6, 0.172453, 0.3, -2.4, 0.172453, 0, -2.4, 0.172453, 2.4, 2.4, 0.172453, 0, 0.6, 0.172453, 0, 0.6, 0.172453, 0.3, 0.3, 0.172453, 0.6, 0, 0.172453, 0.6, 0, 0.172453, 2.4, 2.4, 0.172453, 0, 0.6, 0.172453, 0.3, 0.3, 0.172453, 0.6, 0, 0.172453, 2.4, 2.4, 0.172453, 2.4)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 10), PackedInt32Array(8, 10, 9), PackedInt32Array(13, 12, 11), PackedInt32Array(16, 15, 14), PackedInt32Array(17, 21, 18), PackedInt32Array(18, 21, 20), PackedInt32Array(18, 20, 19), PackedInt32Array(25, 24, 22), PackedInt32Array(22, 24, 23), PackedInt32Array(28, 27, 26), PackedInt32Array(31, 30, 29), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 36), PackedInt32Array(34, 36, 35), PackedInt32Array(39, 38, 37), PackedInt32Array(42, 41, 40), PackedInt32Array(44, 43, 45), PackedInt32Array(45, 43, 47), PackedInt32Array(45, 47, 46)]
cell_size = 0.1
cell_height = 0.05
agent_radius = 0.1

[sub_resource type="BoxMesh" id="BoxMesh_sn48h"]
size = Vector3(5, 0.2, 5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_y31uj"]
data = PackedVector3Array(-2.5, 0.1, 2.5, 2.5, 0.1, 2.5, -2.5, -0.1, 2.5, 2.5, 0.1, 2.5, 2.5, -0.1, 2.5, -2.5, -0.1, 2.5, 2.5, 0.1, -2.5, -2.5, 0.1, -2.5, 2.5, -0.1, -2.5, -2.5, 0.1, -2.5, -2.5, -0.1, -2.5, 2.5, -0.1, -2.5, 2.5, 0.1, 2.5, 2.5, 0.1, -2.5, 2.5, -0.1, 2.5, 2.5, 0.1, -2.5, 2.5, -0.1, -2.5, 2.5, -0.1, 2.5, -2.5, 0.1, -2.5, -2.5, 0.1, 2.5, -2.5, -0.1, -2.5, -2.5, 0.1, 2.5, -2.5, -0.1, 2.5, -2.5, -0.1, -2.5, 2.5, 0.1, 2.5, -2.5, 0.1, 2.5, 2.5, 0.1, -2.5, -2.5, 0.1, 2.5, -2.5, 0.1, -2.5, 2.5, 0.1, -2.5, -2.5, -0.1, 2.5, 2.5, -0.1, 2.5, -2.5, -0.1, -2.5, 2.5, -0.1, 2.5, 2.5, -0.1, -2.5, -2.5, -0.1, -2.5)

[sub_resource type="BoxMesh" id="BoxMesh_s1ov6"]
size = Vector3(6, 3, 0.5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_suij4"]
data = PackedVector3Array(-3, 1.5, 0.25, 3, 1.5, 0.25, -3, -1.5, 0.25, 3, 1.5, 0.25, 3, -1.5, 0.25, -3, -1.5, 0.25, 3, 1.5, -0.25, -3, 1.5, -0.25, 3, -1.5, -0.25, -3, 1.5, -0.25, -3, -1.5, -0.25, 3, -1.5, -0.25, 3, 1.5, 0.25, 3, 1.5, -0.25, 3, -1.5, 0.25, 3, 1.5, -0.25, 3, -1.5, -0.25, 3, -1.5, 0.25, -3, 1.5, -0.25, -3, 1.5, 0.25, -3, -1.5, -0.25, -3, 1.5, 0.25, -3, -1.5, 0.25, -3, -1.5, -0.25, 3, 1.5, 0.25, -3, 1.5, 0.25, 3, 1.5, -0.25, -3, 1.5, 0.25, -3, 1.5, -0.25, 3, 1.5, -0.25, -3, -1.5, 0.25, 3, -1.5, 0.25, -3, -1.5, -0.25, 3, -1.5, 0.25, 3, -1.5, -0.25, -3, -1.5, -0.25)

[node name="test_wall_run" type="Node3D"]
script = ExtResource("1_82lem")

[node name="NavigationRegion3d" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_ltx6n")
navigation_layers = 3

[node name="Floor" type="MeshInstance3D" parent="NavigationRegion3d"]
mesh = SubResource("BoxMesh_sn48h")

[node name="StaticBody3d" type="StaticBody3D" parent="NavigationRegion3d/Floor"]

[node name="CollisionShape3d" type="CollisionShape3D" parent="NavigationRegion3d/Floor/StaticBody3d"]
shape = SubResource("ConcavePolygonShape3D_y31uj")

[node name="Floor" type="MeshInstance3D" parent="NavigationRegion3d/Floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.49348, 1.2861, -4.84742)
mesh = SubResource("BoxMesh_sn48h")

[node name="StaticBody3d" type="StaticBody3D" parent="NavigationRegion3d/Floor/Floor"]

[node name="CollisionShape3d" type="CollisionShape3D" parent="NavigationRegion3d/Floor/Floor/StaticBody3d"]
shape = SubResource("ConcavePolygonShape3D_y31uj")

[node name="Floor2" type="MeshInstance3D" parent="NavigationRegion3d"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8, 0, 0)
mesh = SubResource("BoxMesh_sn48h")

[node name="StaticBody3d" type="StaticBody3D" parent="NavigationRegion3d/Floor2"]

[node name="CollisionShape3d" type="CollisionShape3D" parent="NavigationRegion3d/Floor2/StaticBody3d"]
shape = SubResource("ConcavePolygonShape3D_y31uj")

[node name="Floor3" type="MeshInstance3D" parent="NavigationRegion3d"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18, 0, 0)
mesh = SubResource("BoxMesh_sn48h")

[node name="StaticBody3d" type="StaticBody3D" parent="NavigationRegion3d/Floor3"]

[node name="CollisionShape3d" type="CollisionShape3D" parent="NavigationRegion3d/Floor3/StaticBody3d"]
shape = SubResource("ConcavePolygonShape3D_y31uj")

[node name="Wall" type="MeshInstance3D" parent="NavigationRegion3d"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.98009, 1.07647, -2.59024)
mesh = SubResource("BoxMesh_s1ov6")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3d/Wall"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3d/Wall/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_suij4")

[node name="Wall" type="MeshInstance3D" parent="NavigationRegion3d/Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.8684, 0.505072, 5.18493)
mesh = SubResource("BoxMesh_s1ov6")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3d/Wall/Wall"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3d/Wall/Wall/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_suij4")

[node name="Wall" type="MeshInstance3D" parent="NavigationRegion3d/Wall/Wall"]
transform = Transform3D(-0.0122694, 0, -0.999925, 0, 1, 0, 0.999925, 0, -0.0122694, -0.453653, 0.532845, -2.46778)
mesh = SubResource("BoxMesh_s1ov6")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3d/Wall/Wall/Wall"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3d/Wall/Wall/Wall/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_suij4")

[node name="Wall2" type="MeshInstance3D" parent="NavigationRegion3d"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.0651, 1.07647, -2.59024)
mesh = SubResource("BoxMesh_s1ov6")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3d/Wall2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3d/Wall2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_suij4")

[node name="Wall3" type="MeshInstance3D" parent="NavigationRegion3d"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.1665, 1.07647, 0.155548)
mesh = SubResource("BoxMesh_s1ov6")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3d/Wall3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3d/Wall3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_suij4")

[node name="Wall4" type="MeshInstance3D" parent="NavigationRegion3d"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.1665, 1.07647, 2.05869)
mesh = SubResource("BoxMesh_s1ov6")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3d/Wall4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3d/Wall4/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_suij4")

[node name="Player_Character" parent="." instance=ExtResource("2_abfyt")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.11056, 0.752155, 0.163087)

[node name="playerSpawnPoint" type="Node3D" parent="."]
transform = Transform3D(0.999104, 0, -0.042329, 0, 1, 0, 0.042329, 0, 0.999104, 1.33006, 0.593658, 0)

[node name="DirectionalLight3d" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.757918, 0.65235, 0, -0.65235, 0.757918, -3.32541, 2.1958, 0)
shadow_enabled = true
directional_shadow_mode = 0
